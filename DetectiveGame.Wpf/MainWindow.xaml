<Window x:Class="DetectiveGame.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Детективное расследование" Height="700" Width="1250"
        Loaded="Window_Loaded">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1.05*"/>
            <ColumnDefinition Width="2.25*"/>
            <ColumnDefinition Width="1.35*"/>
        </Grid.ColumnDefinitions>

        <!-- Команды -->
        <Grid Grid.Column="0" Margin="0,0,10,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Список команд" FontSize="16" FontWeight="Bold" Margin="0,0,0,6"/>
            <Border Grid.Row="1" Padding="8" BorderThickness="1" BorderBrush="Gray" CornerRadius="6">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBlock x:Name="CommandsText" TextWrapping="Wrap" FontSize="14"/>
                </ScrollViewer>
            </Border>
        </Grid>

        <!-- Лог + действия -->
        <Grid Grid.Column="1" Margin="0,0,10,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                <Button x:Name="LookButton" Width="110" Margin="0,0,6,0" Content="Осмотр" Click="Look_Click"/>
                <Button x:Name="SaveButton" Width="110" Margin="0,0,6,0" Content="Сохранить" Click="Save_Click"/>
                <Button x:Name="LoadButton" Width="110" Margin="0,0,6,0" Content="Загрузить" Click="Load_Click"/>
                <Button x:Name="VerdictButton" Width="110" Margin="0,0,6,0" Content="Вердикт" Click="Verdict_Click"/>
                <Button x:Name="NewGameButton" Width="110" Content="Новая игра" Click="NewGame_Click"/>
            </StackPanel>

            <ScrollViewer x:Name="LogScroll" Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <TextBlock x:Name="LogText" TextWrapping="Wrap" FontSize="14"/>
            </ScrollViewer>

            <Grid Grid.Row="2" Margin="0,8,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Grid x:Name="ActionsPanel" Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <GroupBox Header="Выходы" Margin="0,0,8,0">
                        <DockPanel LastChildFill="True">
                            <Button x:Name="MoveButton"
                                    DockPanel.Dock="Bottom"
                                    Height="30"
                                    Margin="0,6,0,0"
                                    Content="Перейти"
                                    Click="Move_Click"/>
                            <ListBox x:Name="ExitsList"
                                     MinHeight="110"
                                     DisplayMemberPath="Name"
                                     SelectionChanged="ContextSelectionChanged"/>
                        </DockPanel>
                    </GroupBox>

                    <GroupBox Header="Предметы рядом" Grid.Column="1" Margin="0,0,8,0">
                        <DockPanel LastChildFill="True">
                            <Button x:Name="TakeButton"
                                    DockPanel.Dock="Bottom"
                                    Height="30"
                                    Margin="0,6,0,0"
                                    Content="Подобрать"
                                    Click="Take_Click"/>
                            <ListBox x:Name="EvidenceHereList"
                                     MinHeight="110"
                                     DisplayMemberPath="Description"
                                     SelectionChanged="ContextSelectionChanged"/>
                        </DockPanel>
                    </GroupBox>

                    <GroupBox Header="Персонажи" Grid.Column="2">
                        <DockPanel LastChildFill="True">
                            <Button x:Name="TalkButton"
                                    DockPanel.Dock="Bottom"
                                    Height="30"
                                    Margin="0,6,0,0"
                                    Content="Поговорить"
                                    Click="Talk_Click"/>
                            <ListBox x:Name="CharactersHereList"
                                     MinHeight="110"
                                     DisplayMemberPath="Name"
                                     SelectionChanged="ContextSelectionChanged"/>
                        </DockPanel>
                    </GroupBox>
                </Grid>

                <GroupBox x:Name="VerdictPanel" Grid.Row="1" Header="Подозреваемые" Margin="0,8,0,0" Visibility="Collapsed">
                    <DockPanel LastChildFill="True">
                        <Button x:Name="AccuseButton"
                                DockPanel.Dock="Bottom"
                                Height="30"
                                Margin="0,6,0,0"
                                Content="Обвинить"
                                Click="Accuse_Click"/>
                        <ListBox x:Name="SuspectsList"
                                 MinHeight="110"
                                 DisplayMemberPath="Name"
                                 SelectionChanged="ContextSelectionChanged"/>
                    </DockPanel>
                </GroupBox>
            </Grid>
        </Grid>

        <!-- Улики -->
        <Grid Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Улики" FontSize="16" FontWeight="Bold" Margin="0,0,0,6"/>

            <Border Grid.Row="1" Padding="8" BorderThickness="1" BorderBrush="Gray" CornerRadius="6">
                <ListBox x:Name="InventoryList"
                         SelectionChanged="InventoryList_SelectionChanged"
                         DisplayMemberPath="Description"/>
            </Border>

            <TextBlock Grid.Row="2" Text="Описание улики" FontSize="16" FontWeight="Bold" Margin="0,10,0,6"/>

            <Border Grid.Row="3" Padding="8" BorderThickness="1" BorderBrush="Gray" CornerRadius="6">
                <StackPanel>
                    <TextBlock x:Name="InvClue" FontWeight="Bold" TextWrapping="Wrap"/>
                    <TextBlock x:Name="InvDetails" Margin="0,6,0,0" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>